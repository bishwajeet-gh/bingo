<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goal for the week Bingo</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="./css/styles.css" rel="stylesheet">
</head>

<body>
    <!-- Background Animation -->
    <div class="animated-bg">
        <div class="bg-shape shape-1"></div>
        <div class="bg-shape shape-2"></div>
        <div class="bg-shape shape-3"></div>
        <div class="bg-shape shape-4"></div>
    </div>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" title="Toggle Dark Mode">
        <i class="fas fa-moon"></i>
    </button>

    <div class="app-container">
        <!-- Compact Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="compact-title-section">
                    <h1 class="main-title">
                        <i class="fas fa-trophy trophy-icon"></i>
                        Goal for the Week <span class="bingo-text">BINGO</span>
                    </h1>
                    <div class="player-info">
                        <span class="player-name" id="currentPlayer">Not logged in</span>
                        <i class="fas fa-user-circle player-icon"></i>
                    </div>
                </div>
                
                <div class="header-right-section">
                    <!-- Game Controls moved to header -->
                    <div class="header-controls">
                        <button id="syncProgress" class="btn btn-sync">
                            <i class="fas fa-sync-alt icon"></i>
                            <span>Sync Progress</span>
                        </button>
                        <button id="resetBoard" class="btn btn-reset">
                            <i class="fas fa-refresh"></i>
                            <span>Reset Board</span>
                        </button>
                    </div>
                    
                    <!-- Inline Quick Stats -->
                    <div class="inline-stats" id="quickStats" style="display: none;">
                        <div class="stat-item">
                            <span class="stat-number" id="statBingos">0</span>
                            <span class="stat-label">Bingos</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="statCompleted">0</span>
                            <span class="stat-label">Done</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="statProgress">0%</span>
                            <span class="stat-label">Progress</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="content-wrapper">
            <!-- Enhanced How to Play Sidebar -->
            <div class="sidebar">
                <div class="sidebar-section">
                    <div class="section-header">
                        <i class="fas fa-gamepad section-icon"></i>
                        <h2 class="section-title">How to Play</h2>
                    </div>
                    
                    <div class="game-rules">
                        <div class="rules-group">
                            <h3 class="rule-category">
                                <i class="fas fa-play-circle"></i>
                                Game Basics
                            </h3>
                            <ul class="rules-list">
                                <li>
                                    <i class="fas fa-mouse-pointer rule-icon"></i>
                                    <span>Click squares as you complete work tasks</span>
                                </li>
                                <li>
                                    <i class="fas fa-toggle-on rule-icon"></i>
                                    <span>Toggle squares on/off anytime</span>
                                </li>
                                <li>
                                    <i class="fas fa-line-chart rule-icon"></i>
                                    <span>Get squares in a row to score BINGO!</span>
                                </li>
                                <li>
                                    <i class="fas fa-star rule-icon"></i>
                                    <span>Earn multiple BINGOs on one board</span>
                                </li>
                            </ul>
                        </div>

                        <div class="rules-group">
                            <h3 class="rule-category">
                                <i class="fas fa-bullseye"></i>
                                Winning Patterns
                            </h3>
                            <ul class="winning-types">
                                <li>
                                    <i class="fas fa-arrows-alt-h pattern-icon"></i>
                                    <span>Complete horizontal rows</span>
                                </li>
                                <li>
                                    <i class="fas fa-arrows-alt-v pattern-icon"></i>
                                    <span>Complete vertical columns</span>
                                </li>
                                <li>
                                    <i class="fas fa-slash pattern-icon"></i>
                                    <span>Complete diagonal lines</span>
                                </li>
                            </ul>
                        </div>

                        <div class="rules-group">
                            <h3 class="rule-category">
                                <i class="fas fa-magic"></i>
                                Smart Features
                            </h3>
                            <ul class="feature-list">
                                <li>
                                    <i class="fas fa-save feature-icon"></i>
                                    <span>Auto-save progress locally</span>
                                </li>
                                <li>
                                    <i class="fas fa-cloud feature-icon"></i>
                                    <span>Cloud backup & sync</span>
                                </li>
                                <li>
                                    <i class="fas fa-chart-line feature-icon"></i>
                                    <span>Real-time leaderboard</span>
                                </li>
                                <li>
                                    <i class="fas fa-redo feature-icon"></i>
                                    <span>Reset board anytime</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Enhanced Main Game Area -->
            <main class="main-content">
                <div class="game-container">
                    <!-- Game Header -->
                    <!-- <div class="game-header">
                        <div class="game-title">
                            <i class="fas fa-th-large"></i>
                            <span>Your Bingo Board</span>
                            <span class="board-progress" id="boardProgress">0 of 25 squares completed</span>
                        </div>
                    </div> -->

                    <!-- Bingo Board Container -->
                    <div class="board-container">
                        <div id="bingoBoard" class="bingo-board"></div>
                        
                        <!-- Board Overlay Effects -->
                        <div class="board-effects">
                            <div class="celebration-overlay" id="celebrationOverlay">
                                <div class="celebration-content">
                                    <i class="fas fa-star celebration-icon"></i>
                                    <h3>ðŸŽ‰ BINGO! ðŸŽ‰</h3>
                                    <p>Amazing work! You've completed a line!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Enhanced Winners Sidebar -->
            <div class="sidebar winners-sidebar">
                <div class="sidebar-section">
                    <div class="section-header">
                        <i class="fas fa-crown section-icon"></i>
                        <h2 class="section-title">Leaderboard</h2>
                    </div>
                    
                    <div class="winners-container">
                        <div id="winnersList" class="winners-list">
                            <!-- Start with loading state instead of no-winners message -->
                            <div class="loading-winners">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>Loading leaderboard...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Modals -->
    <div class="modal fade" id="playerLoginModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content login-modal">
                <div class="modal-body">
                    <div class="login-header">
                        <i class="fas fa-user-plus login-icon"></i>
                        <h2 class="login-title">Welcome to Team Bingo!</h2>
                        <p class="login-subtitle">Enter your name to start playing</p>
                    </div>
                    <div class="login-form">
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="fas fa-user"></i>
                            </span>
                            <input type="text" class="form-control" id="playerNameInput" placeholder="Your name">
                        </div>
                        <button type="button" class="btn btn-start" id="startGameBtn">
                            <i class="fas fa-play"></i>
                            <span>Start Playing</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Error Modal -->
    <div class="modal fade" id="errorModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content error-modal">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-exclamation-triangle text-warning"></i>
                        Access Denied
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="error-content">
                        <p>Sorry, you are not authorized to play this game.</p>
                        <p class="text-muted">Please contact your team administrator for access.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-check"></i> Got it
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Notes Modal -->
    <div class="modal fade" id="noteModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content notes-modal">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-sticky-note text-primary"></i>
                        <span id="noteModalLabel">Add Notes</span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="noteText" class="form-label">
                            <i class="fas fa-pencil-alt"></i>
                            Achievement Notes
                        </label>
                        <textarea id="noteText" class="form-control" rows="4"
                            placeholder="Describe what you accomplished for this task..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="button" class="btn btn-primary" id="saveNoteBtn">
                        <i class="fas fa-save"></i> Save Note
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/config/config.js"></script>
    <script src="js/services/jsonbin-service.js"></script>
    <script src="js/components/bingo-board.js"></script>
    <script src="js/main.js"></script>
</body>

</html>